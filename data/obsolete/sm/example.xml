<?xml version='1.0'?>
<xc:Partition xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
              xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" 
              xmlns:xc="http://xdaq.web.cern.ch/xdaq/xsd/2004/XMLConfiguration-30">

    <i2o:protocol xmlns:i2o="http://xdaq.web.cern.ch/xdaq/xsd/2004/I2OConfiguration-30">
       <i2o:target class="evf::FUEventProcessor" instance="0" tid="27"/>
       <i2o:target class="SMi2oSender"           instance="0" tid="25"/>
       <i2o:target class="testStorageManager"    instance="0" tid="44"/>
    </i2o:protocol>

   <!-- FU sender one -->
   <xc:Context id = "0" url="http://SOMEHOST.cern.ch:40001">
        <xc:Endpoint protocol="tcp" service="i2o" hostname="SOMEHOST.cern.ch" port="30002" network="tcp1"/>

        <xc:Application class="evf::FUEventProcessor" id="27" instance="0" network="tcp1">
           <properties xmlns="urn:xdaq-application:FUEventProcessor" xsi:type="soapenc:Struct">
                    <parameterSet xsi:type="xsd:string">file:$CMSSW_BASE/src/DQM/SiStripCommissioningSources/data/SiStripOnline.cfg</parameterSet>
		    <collReconnSec xsi:type="xsd:integer">-1</collReconnSec>
           </properties>
        </xc:Application>

        <xc:Application class="SMi2oSender" id="20" instance="0" network="tcp1">
        </xc:Application>
       
        <xc:Application class="PeerTransportTCP" id="30" network="tcp1">
           <properties xmlns="urn:xdaq-application:PeerTransportTCP" xsi:type="soapenc:Struct">
	            <autoSize xsi:type="xsd:boolean">true</autoSize>
                    <maxPacketSize xsi:type="xsd:unsignedInt">262144</maxPacketSize>
           </properties>
        </xc:Application>

       <xc:Module>$XDAQ_ROOT/lib/libpttcp.so</xc:Module>
       <xc:Module>$CMSSW_BASE/lib/slc3_ia32_gcc323/libEventFilterProcessor.so</xc:Module>
       <xc:Module>$CMSSW_BASE/lib/slc3_ia32_gcc323/libEventFilterStorageManager.so</xc:Module>
   </xc:Context>


   <!-- Storage Manager -->
    <xc:Context id = "1" url="http://SOMEHOST.cern.ch:40002">
       <xc:Endpoint protocol="tcp" service="i2o" hostname="SOMEHOST.cern.ch" port="30001" network="tcp1"/>

       <xc:Application class="testStorageManager" id="44" instance="0" network="tcp1">
          <properties xmlns="urn:xdaq-application:testStorageManager" xsi:type="soapenc:Struct">
                    <STparameterSet xsi:type="xsd:string">file:$CMSSW_BASE/src/DQM/SiStripCommissioningSources/data/StorageManager.cfg</STparameterSet>
                    <FUparameterSet xsi:type="xsd:string">file:$CMSSW_BASE/src/DQM/SiStripCommissioningSources/data/StorageManagerFU.cfg</FUparameterSet>
                    <streamerOnly   xsi:type="xsd:boolean">true</streamerOnly>
                    <filePath       xsi:type="xsd:string">/tmp</filePath> 
                    <mailboxPath    xsi:type="xsd:string">/tmp</mailboxPath> 
           </properties>
       </xc:Application>

       <xc:Application class="PeerTransportTCP" id="31" network="tcp1">
           <properties xmlns="urn:xdaq-application:PeerTransportTCP" xsi:type="soapenc:Struct">
              <autoSize xsi:type="xsd:boolean">true</autoSize>
              <maxPacketSize xsi:type="xsd:unsignedInt">262144</maxPacketSize>
           </properties>
       </xc:Application>

       <xc:Module>$XDAQ_ROOT/lib/libpttcp.so</xc:Module>
       <xc:Module>$CMSSW_BASE/lib/slc3_ia32_gcc323/libEventFilterStorageManagertestStorageManager.so</xc:Module>
    </xc:Context>

</xc:Partition>
